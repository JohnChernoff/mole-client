<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <title>MoleChess 0.1</title>
        <link rel="stylesheet" href="css/main.css">
    </head>

    <body id="body">
        <div id="div-welcome" class="modal">
            <div class="top-div">
                <button onclick="initGame(false)">Enter without Sound</button>
                <button onclick="initGame(true)">Enter with Sound</button>
            </div>
        </div>

        <div id="div-splash" class="modal">
            <button id="audio-butt1" class="audio-toggle big-butt" onclick="toggleAudio()">Sound On</button>
            <button id="help-butt1" class = "big-butt" onclick="window.location.assign('help.html')">How to Play</button>
            <button id="login-butt" class="splash-butt big-butt" onclick="login()">Login with Lichess</button>
            <button id="logout-butt" class="splash-butt big-butt" onclick="logout()">Logout</button>
            <button id="enter-butt" class="splash-butt big-butt" onclick="enterGame()"></button>
            <br><br>
            <canvas id="splash-can"></canvas>
            <div id="mole-sprite" class="mole-sprites"></div>
        </div>

        <div id="div-highscores" class="modal">
            <button onclick="closeModalWindow(document.getElementById('div-highscores'))">Return</button>
            <table id="table-highscores"></table>
        </div>

        <div id="div-help" class="modal">
            <button onclick="closeModalWindow(document.getElementById('div-help'))">Return</button> <br>
            <iframe id="help-frame"
                    title="MoleChess Help"
                    width="99%"
                    height="90%"
                    src="help.html">
            </iframe>
        </div>

        <div id="div-mole" class="modal">
            <div class="mole-txt">
                <h1>You're the Mole!</h1>
                <h2> Your job is to try and lose the game for your side, but be careful -
                    if the moves you make are too obviously bad, your teammates may try and vote you out. </h2>
                <button onclick="closeModalWindow(document.getElementById('div-mole'))">OK</button> <br>
            </div>
        </div>

        <div id="div-not-mole" class="modal">
            <div class="mole-txt">
                <h1>You're not the Mole!</h1>
                <h2> Your job is to try and win the game for your side, but be careful -
                    there's a Mole on your team! </h2>
                <button onclick="closeModalWindow(document.getElementById('div-not-mole'))">OK</button> <br>
            </div>
        </div>

        <div id="div-defect" class="modal">
            <div id="defect-txt"></div>
            <div id="div-defect-anim">
                <div id="defect-overlay"> </div>
            </div>
            <div id="mole-defect-sprite" class="mole-sprites"></div>
        </div>

        <div id="div-ramp" class="modal">
            <div id="ramp-txt"></div>
            <div id="div-ramp-anim">
                <div id="ramp-overlay"> </div>
            </div>
            <div id="mole-ramp-sprite" class="mole-sprites"></div>
        </div>

        <div id="div-veto" class="modal">
            <img src="./img/bkg/veto.png" id="img-veto" onclick="sendVeto(true)" oncontextmenu="sendVeto(false)">
        </div>

        <div id="div-opt" class="modal">
            <input type="checkbox" id="chk-hide-move-vote">
            <label for="chk-hide-move-vote">Hide Current Move Vote </label><br>

            <input type="checkbox" id="chk-mole-veto">
            <label for="chk-mole-veto">Mole Move Veto </label><br>

            <input type="checkbox" id="chk-mole-piece-prediction">
            <label for="chk-mole-piece-prediction">Mole Piece Prediction </label><br>

            <input type="checkbox" id="chk-mole-move-prediction">
            <label for="chk-mole-move-prediction">Mole Move Prediction </label><br>

            <input type="checkbox" id="chk-team-move-prediction">
            <label for="chk-team-move-prediction">Team Move Prediction </label><br>

            <input type="checkbox" id="chk-mole-pawns">
            <label for="chk-mole-pawns">Mole Pawns </label><br>

            <br><br>

            <label for="range-time">Max Players per Side: <span id="max-players-out"></span> </label><br>
            <input type="range" id="range-max-players" min="3" max="16" value="6" step="1">

            <br><br>

            <label for="range-time">Time per Turn (in seconds):  <span id="turn-time-out"></span> </label><br>
            <input type="range" id="range-time" min="12" max="300" value="30" step="1">

            <br><br>

            <input type="color" id="color-dark-square">
            <label for="color-dark-square"> Dark Squares </label><br>

            <input type="color" id="color-light-square">
            <label for="color-light-square"> Light Squares </label><br>

            <br><br>

            <label for="select-piece-style"> Board Style :</label>
            <select id="select-piece-style">
                <option value="companion">Standard</option>
                <option value="leipzig">Leipzig</option>
                <option value="calif">California</option>
                <option value="dub">Dubrovny</option>
                <option value="horsey">Horsey</option>
            </select>

            <br><br>

            <button onclick="submitOptions()">Update</button>
            <button onclick="cancelOptions()">Cancel</button>
        </div>

        <div id="div-time">
            <span id="txt-time"> Welcome to MoleChess 0.1! </span>
            <canvas id="can-time"></canvas>
        </div>

        <div id="div-sidebar-left" class="modular_view">
            <div id="div-left-tabs">
                <div class="left_tab"> </div>
            </div>
            <div id="div-commands">
                <label for="chat-msg">Message: </label>
                <input type="text" id="chat-msg"/>
            </div>
            <br>
            <div id="div-info"> </div>
            <div id="div-links">
                <img class="img-link"
                     src="img/bkg/discord-logo.png"
                     alt="Discord"
                     onclick="window.open('https://discord.gg/mEnXK8cP4R', '_blank')">
            </div>
        </div>

        <div id="div-main" class="modular_view">
            <div id="main-board" class="board-view"> </div>
        </div>

        <div id="div-games" class="modular_view">
            <button id="audio-butt2" class="audio-toggle" onclick="toggleAudio()">Sound On</button>
            <button id="help-butt2" onclick="showHelp()">Help</button>
            <button id="best-butt" onclick="showHighScores()">Best</button>
            <br><br>
            <button id="new-butt" onclick="createGame()">New Game</button>
            <button id="join-butt" onclick="joinGame()">Join</button>
            <button id="start-butt" onclick="startGame()">Start</button>
            <button id="obs-butt" onclick="gameCmd('obsgame')">Obs</button>
            <br><br>
            <button id="part-butt" onclick="gameCmd('partgame')">Leave</button>
            <button id="resign-butt" onclick="gameCmd('resign')">Resign</button>
            <button id="flip-butt" onclick="flipBoard()">Flip</button>
            <button id="opt-butt" onclick="showOptions()">Options</button>
            <br><br>
            <label for="select-games">Game Title: </label>
            <select id="select-games"></select>
            <br><br>
            <table id="table-players"></table>
        </div>

        <div id="div-moves" class="modular_view">
            <button onclick="exportPGN()">Export PGN</button> <br>
            <input id="range-history" type="range" min="0" onchange="rangeSelect()">
            <div id="div-movelist">
                <table id="table-moves"></table>
            </div>
        </div>

        <script>let exports = {};</script>
        <script type="text/javascript" src="js/oauth2-auth-code-pkce-master/pkce.js"></script>
        <script type="text/javascript" src="js/env.js"></script>
        <script type="text/javascript" src="js/lichess.js"></script>
        <script type="text/javascript" src="js/colors.js"></script>
        <script type="text/javascript" src="js/graphics.js"></script>
        <script type="text/javascript" src="js/webclient.js"></script>
        <script type="text/javascript" src="js/zugboard.js"></script>
        <script type="text/javascript" src="js/main.js"></script>

    </body>

</html>